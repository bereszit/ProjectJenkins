name: Trigger Jenkins
on:
  workflow_run:
    workflows: [Tests]
    types: [completed]
    branches: [master]

jobs:
  tests-failed-not-trigger-jenkins:
    name: Failed test triggering Jenkis stopped
    if: ${{ github.event.workflow_run.conclusion == 'failure' }}
    runs-on: ubuntu-latest
    steps:
      - run: echo Check tests, as they failed!

  tests-passed-trigger-jenkins:
    name: Triggers jenkins pipline to build and deploy the application
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    runs-on: ubuntu-latest
    steps:
      - run: echo Tests passed! Execute deployment
